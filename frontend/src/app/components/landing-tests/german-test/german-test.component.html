<div id="wrapper" *ngIf="!isQuizStarted; else quiz">
  <h3>–¢–µ—Å—Ç –Ω–∞ –≤–∏–∑–Ω–∞—á–µ–Ω–Ω—è —Ä—ñ–≤–Ω—è –Ω—ñ–º–µ—Ü—å–∫–æ—ó</h3>
  <div id="test-heading">
    <div id="text">
      <p>
        üìù –•–æ—á–µ—Ç–µ –¥—ñ–∑–Ω–∞—Ç–∏—Å—è —Å–≤—ñ–π —Ä—ñ–≤–µ–Ω—å –≤–æ–ª–æ–¥—ñ–Ω–Ω—è –Ω—ñ–º–µ—Ü—å–∫–æ—é –º–æ–≤–æ—é —Ç–∞ –ø–æ—á–∞—Ç–∏
        –µ—Ñ–µ–∫—Ç–∏–≤–Ω–æ –≤–¥–æ—Å–∫–æ–Ω–∞–ª—é–≤–∞—Ç–∏ —Å–≤–æ—ó –Ω–∞–≤–∏—á–∫–∏?
      </p>
      <p>
        üöÄ –ù–µ–∑–∞–ª–µ–∂–Ω–æ –≤—ñ–¥ —Ç–æ–≥–æ, —á–∏ –≤–∏ –ø–æ—á–∞—Ç–∫—ñ–≤–µ—Ü—å –∞–±–æ –≤–∂–µ –¥–æ—Å–≤—ñ–¥—á–µ–Ω–∏–π —É—á–µ–Ω—å, –Ω–∞—à
        —Ç–µ—Å—Ç –Ω–∞–¥–∞—Å—Ç—å –≤–∞–º —á—ñ—Ç–∫—É –∫–∞—Ä—Ç–∏–Ω—É –≤–∞—à–æ–≥–æ –ø–æ—Ç–æ—á–Ω–æ–≥–æ —Ä—ñ–≤–Ω—è –º–æ–≤–ª–µ–Ω–Ω—î–≤–æ—ó
        –∫–æ–º–ø–µ—Ç–µ–Ω—Ü—ñ—ó.
      </p>
      <p>
        üéØ –ì–æ—Ç–æ–≤—ñ –≤–∏–∑–Ω–∞—á–∏—Ç–∏ —Å–≤—ñ–π —Ä—ñ–≤–µ–Ω—å —Ç–∞ —Ä–æ–∑–ø–æ—á–∞—Ç–∏ –∑–∞—Ö–æ–ø–ª—é—é—á—É –ø–æ–¥–æ—Ä–æ–∂ –¥–æ
        –º–∞–π—Å—Ç–µ—Ä–Ω–æ—Å—Ç—ñ –≤ –Ω—ñ–º–µ—Ü—å–∫—ñ–π –º–æ–≤—ñ? –ü—Ä–æ–π–¥—ñ—Ç—å —Ç–µ—Å—Ç –≤–∂–µ –∑–∞—Ä–∞–∑ —Ç–∞ –ø–æ—á–Ω—ñ—Ç—å —Å–≤—ñ–π
        —à–ª—è—Ö –¥–æ —É—Å–ø—ñ—Ö—É —Ä–∞–∑–æ–º –∑ –Ω–∞–º–∏!
      </p>
      <div id="cards">
        <div class="test-card">
          <div class="icon"><i class="bi bi-watch"></i></div>
          <p>
            –¢—Ä–∏–≤–∞–ª—ñ—Å—Ç—å —Ç–µ—Å—Ç—É: <br />
            <b>15 —Ö–≤–∏–ª–∏–Ω</b>
          </p>
        </div>
        <div class="test-card">
          <div class="icon"><i class="bi bi-check2-circle"></i></div>
          <p>
            –í—Å—å–æ–≥–æ –ø–∏—Ç–∞–Ω—å: <br />
            <b>30</b>
          </p>
        </div>
        <div class="test-card">
          <div class="icon"><i class="bi bi-cash-coin"></i></div>
          <p>
            –í–∞—Ä—Ç—ñ—Å—Ç—å: <br />
            <b>0 –≥—Ä–Ω.</b>
          </p>
        </div>
      </div>
      <div class="d-flex justify-content-center mt-4">
        <button (click)="startQuiz()" class="cta" type="button">
          –†–æ–∑–ø–æ—á–∞—Ç–∏
        </button>
      </div>
    </div>
    <img
      id="hero-img"
      src="../../../assets/language-test/test-hero.png"
      alt="Panda studies"
    />
  </div>
</div>

<ng-template #quiz>
  <section *ngIf="!isQuizFinished; else quizResult">
    <app-quiz
      [isQuizFinished]="isQuizFinished"
      [formField]="formField"
      [languageToTest]="languageToTest"
      [questionIndex]="questionIndex"
      [formLength]="formLength"
      [question]="question"
      [answers]="answers"
      (selectedAnswer)="processAnswer($event)"
    ></app-quiz>
  </section>
  <ng-template #quizResult>
    <div *ngIf="awaitingResponse">
      <div class="spinner-border" role="status">
        <span class="sr-only">Loading...</span>
      </div>
    </div>
    <section *ngIf="!awaitingResponse">
      <div id="test" class="result-wrapper">
        <div class="result-details">
          <p class="main-result">–¢–µ—Å—Ç –ø—Ä–æ–π–¥–µ–Ω–æ üí´</p>
          <hr />
          <p class="secondary-description">{{ testResult.description }}</p>
          <hr />
          <div>
            <p class="secondary-description m-0">
              –í–∞—à —Ä—ñ–≤–µ–Ω—å
              <span style="color: var(--dark-blue)" class="main-result">{{
                testResult.level
              }}</span>
            </p>
          </div>
          <hr />
          <div>
            <p class="secondary-description m-0">
              –ü—Ä–∞–≤–∏–ª—å–Ω–∏—Ö –≤—ñ–¥–ø–æ–≤—ñ–¥–µ–π:
              <span style="color: var(--dark-blue)" class="main-result">{{
                testResult.score
              }}</span>
            </p>
          </div>
          <hr />
          <div>
            <button (click)="registerForClasses()" class="cta" routerLink="/" type="button">
              –ó–∞–ª–∏—à–∏—Ç–∏ –∑–∞—è–≤–∫—É
            </button>
          </div>
        </div>
        <img
          class="result-vis"
          src="../../../../assets/landing/level-check/levels.png"
        />
      </div>
    </section>
  </ng-template>
</ng-template>
