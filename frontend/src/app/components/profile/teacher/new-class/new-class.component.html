<div class="class-card">
  <h5 class="text-xcenter my-0">–ù–æ–≤–∏–π —É—Ä–æ–∫ üìÜ</h5>
  <hr />
  <form [formGroup]="newClassForm" (ngSubmit)="onSubmit()">
    <!-- Student name field -->
    <fieldset>
      <label for="student-select">–í–∏–±–µ—Ä—ñ—Ç—å —É—á–Ω—è</label>
      <select
        formControlName="studentId"
        [class.mark-invalid]="
          studentId.value == 'default' && (studentId.dirty || studentId.touched)
        "
        id="student-select"
        class="form-select"
      >
        <option selected disabled value="default"></option>
        <option
          *ngFor="let s of students$ | async"
          value="{{ s.id }} {{ s.name }}"
        >
          {{ s.name }}
        </option>
      </select>
    </fieldset>

    <!-- Start field -->
    <fieldset>
      <label for="class-time-start">–ü–æ—á–∞—Ç–æ–∫ —É—Ä–æ–∫—É</label>
      <input
        id="class-time-start"
        [class.mark-invalid]="start.invalid && (start.dirty || start.touched)"
        formControlName="start"
        type="datetime-local"
        class="form-control"
      />
    </fieldset>

    <!-- End field -->
    <fieldset>
      <label for="class-time-end">–ö—ñ–Ω–µ—Ü—å —É—Ä–æ–∫—É</label>
      <input
        id="class-time-end"
        [class.mark-invalid]="end.invalid && (end.dirty || end.touched)"
        formControlName="end"
        type="datetime-local"
        class="form-control"
      />
    </fieldset>

    <!-- Price field -->
    <fieldset>
      <label for="class-price">–í–∞—Ä—Ç—ñ—Å—Ç—å</label>
      <input
        id="class-price"
        [class.mark-invalid]="price.invalid && (price.dirty || price.touched)"
        formControlName="price"
        type="number"
        class="form-control"
      />
    </fieldset>

    <div class="w-100 mt-2 d-flex justify-content-center">
      <button
        (click)="onSubmit()"
        *ngIf="!awaitingResponse; else loadingBtn"
        type="button"
        class="outline-btn"
      >
        –ó–±–µ—Ä–µ–≥—Ç–∏
      </button>
      <ng-template #loadingBtn>
        <button class="cta" type="button" disabled>
          <span class="spinner-grow spinner-grow-sm" aria-hidden="true"></span>
          –ó–∞—á–µ–∫–∞–π—Ç–µ...
        </button>
      </ng-template>
    </div>
  </form>
</div>
