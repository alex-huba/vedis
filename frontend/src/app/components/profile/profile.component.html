<mat-drawer-container autosize>
  <mat-drawer #drawer mode="side">
    <div class="sidenav-links">
      <div style="display: flex; flex-direction: column">
        <a
          routerLinkActive="is-active"
          [routerLinkActiveOptions]="{ exact: true }"
          routerLink="/home/"
        >
          <fa-icon [icon]="icons.house"></fa-icon>&nbsp; Головна
        </a>
        <a routerLink="/home/schedule" routerLinkActive="is-active">
          <i class="bi bi-calendar4-week"></i>&nbsp; Розклад
        </a>
        <a
          *ngIf="isTeacher"
          routerLinkActive="is-active"
          routerLink="/home/new-class"
        >
          <i class="bi bi-plus-circle"></i>&nbsp; Нове заняття
        </a>
        <a routerLinkActive="is-active" routerLink="/home/tasks">
          <fa-icon [icon]="icons.task"></fa-icon>&nbsp; Завдання
        </a>
        <a
          *ngIf="isTeacher"
          routerLinkActive="is-active"
          routerLink="/home/new-task"
        >
          <fa-icon [icon]="icons.folder"></fa-icon>&nbsp; Нове завдання
        </a>
        <a routerLinkActive="is-active" routerLink="/home/dictionary">
          <i class="bi bi-journal-bookmark-fill"></i>&nbsp; Словник
        </a>
        <a
          *ngIf="isTeacher"
          routerLinkActive="is-active"
          routerLink="/home/new-word"
        >
          <fa-icon [icon]="icons.pen"></fa-icon>&nbsp; Нове слово
        </a>
        <a
          *ngIf="isTeacher"
          routerLinkActive="is-active"
          routerLink="/home/students"
        >
          <fa-icon [icon]="icons.students"></fa-icon> &nbsp; Учні
        </a>
        <a
          *ngIf="isTeacher"
          routerLinkActive="is-active"
          routerLink="/home/applications"
        >
          <fa-icon [icon]="icons.applications"></fa-icon> &nbsp; Заявки
        </a>
      </div>
      <div style="display: flex; flex-direction: column">
        <a routerLink="/home/settings" routerLinkActive="is-active">
          <fa-icon [icon]="icons.settings"></fa-icon> &nbsp; Налаштування
        </a>
        <button (click)="signOut()" type="button">
          <fa-icon [icon]="icons.signOut"></fa-icon>&nbsp; Вийти
        </button>
      </div>
    </div>
  </mat-drawer>

  <div
    style="
      background: #fff;
      padding: 5px 20px;
      display: flex;
      align-items: center;
      justify-content: space-between;
      border-radius: 0px 0px 15px 15px;
    "
  >
    <button
      class="toggler"
      type="button"
      (click)="drawer.toggle(); renderCalendar()"
    >
      <i class="bi bi-list"></i>
    </button>

    <nav aria-label="breadcrumb">
      <ol class="breadcrumb">
        <li class="breadcrumb-item">Мій профіль</li>
        <li *ngIf="getCurrentUrl() == '/home'" class="breadcrumb-item">
          Головна
        </li>
        <li *ngIf="getCurrentUrl() == '/home/schedule'" class="breadcrumb-item">
          Розклад
        </li>
        <li *ngIf="getCurrentUrl() == '/home/tasks'" class="breadcrumb-item">
          Домашні завдання
        </li>
        <li
          *ngIf="getCurrentUrl() == '/home/dictionary'"
          class="breadcrumb-item"
        >
          Словник
        </li>
        <li *ngIf="getCurrentUrl() == '/home/settings'" class="breadcrumb-item">
          Налаштування
        </li>
        <li *ngIf="getCurrentUrl() == '/home/new-word'" class="breadcrumb-item">
          Додати слово
        </li>
        <li *ngIf="getCurrentUrl() == '/home/new-task'" class="breadcrumb-item">
          Додати завдання
        </li>
        <li
          *ngIf="getCurrentUrl() == '/home/new-class'"
          class="breadcrumb-item"
        >
          Додати заняття
        </li>
        <li *ngIf="getCurrentUrl() == '/home/students'" class="breadcrumb-item">
          Учні
        </li>
        <li
          *ngIf="getCurrentUrl() == '/home/applications'"
          class="breadcrumb-item"
        >
          Заявки
        </li>
      </ol>
    </nav>
  </div>

  <div #homeContent class="home-main-page">
    <!-- Home page content -->
    <div *ngIf="isHomePage">
      <!-- Avatar and greeting -->
      <div id="avatar-and-greeting">
        <img
          style="width: 90px !important; height: 90px !important"
          class="avatar"
          [src]="photoUrl"
          alt=""
        />
        <div style="display: flex; flex-direction: column">
          <h3 class="mb-0">Вітаємо, {{ username }} ✨</h3>
          <p
            *ngIf="isTeacher; else studentP"
            style="font-size: 15px; color: rgb(92, 92, 92); font-family: nunito"
          >
            Зареєстровані як вчитель
          </p>
          <ng-template #studentP>
            <p
              style="
                font-size: 15px;
                color: rgb(92, 92, 92);
                font-family: nunito;
              "
            >
              Зареєстровані як учень
            </p>
          </ng-template>
        </div>
      </div>

      <!-- Info cards, Chart, Calendar -->
      <div id="main-content">
        <div id="wrapper">
          <div id="card-container">
            <!-- Card 1 -->
            <div
              style="
                background-image: url('../../../assets/profile/teacher/blue-waves.svg');
              "
              class="info-card"
              (click)="changePage('Заявки')"
            >
              <div>
                <img
                  style="width: 30px"
                  src="../../../assets/profile/teacher/users.svg"
                  alt=""
                />
              </div>
              <div>
                <p>
                  Нових заявок:
                  <span style="font-family: montserrat-bold"
                    >&nbsp;{{ amountOfApplications$ | async }}</span
                  >
                </p>
              </div>
            </div>
            <!-- Card 2 -->
            <div
              style="
                background-image: url('../../../assets/profile/teacher/purple-waves.svg');
              "
              class="info-card"
              (click)="changePage('Розклад')"
            >
              <div>
                <img
                  style="width: 30px"
                  src="../../../assets/profile/teacher/lesson.svg"
                  alt=""
                />
              </div>
              <div>
                <p>
                  Занять на цьому тижні:
                  <span style="font-family: montserrat-bold"
                    >&nbsp;{{ amountOfClassesForCurrentWeek$ | async }}</span
                  >
                </p>
              </div>
            </div>
            <!-- Card 3 -->
            <div
              style="
                background-image: url('../../../assets/profile/teacher/yellow-waves.svg');
              "
              class="info-card"
              (click)="changePage('Всі завдання')"
            >
              <div>
                <img
                  style="width: 30px"
                  src="../../../assets/profile/teacher/todo.svg"
                  alt=""
                />
              </div>
              <div>
                <p>
                  Невиконане ДЗ:
                  <span style="font-family: montserrat-bold"
                    >&nbsp;{{ amountOfClassesForCurrentWeek$ | async }}</span
                  >
                </p>
              </div>
            </div>
          </div>

          <div class="mt-4 chart-container">
            <apx-chart
              [series]="chartOptions.series"
              [chart]="chartOptions.chart"
              [xaxis]="chartOptions.xaxis"
              [yaxis]="chartOptions.yaxis"
              [title]="chartOptions.title"
              [markers]="chartOptions.markers"
              [zoom]="chartOptions.zoom"
              [grid]="chartOptions.grid"
            >
            </apx-chart>
          </div>
        </div>

        <full-calendar [options]="calendarOptions"></full-calendar>
      </div>
    </div>

    <router-outlet></router-outlet>
  </div>
</mat-drawer-container>
